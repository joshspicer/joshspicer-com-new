---
layout: project
title: Add to my Queue (beta)

---
<script>

function initSearch() {
  var xhttp = new XMLHttpRequest();
  let searchQuery = document.getElementById("searchQuery").value;
  document.getElementById("result").innerHTML = "";

  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      res = JSON.parse(this.response);
      let searchData = _.get(res, "data");
      console.log(searchData);
      _.forEach(searchData, function(value, index) {
        document.getElementById("result").innerHTML +=
        "<a href=https://api.joshspicer.com/spotify/add-song?id=" + value[2] + ">" + value[0] + " by " + value[1] + "</a><br>" ;
      });
    }
  }
  xhttp.open("GET", "https://api.joshspicer.com/spotify/search?query=" + searchQuery, true);
  xhttp.send();
}

</script>

<input id="searchQuery" type="text">
<button onclick="initSearch()">Search</button>


<p id="result"></p>
